FFTANALYSER=function(){const C=document['getElementById']('audio');const D=0xac44;const E=new AudioContext({'sampleRate':D});let F=E['createMediaElementSource'](C);const G=E['createAnalyser']();var H;function I(){F['connect'](G);G['connect'](E['destination']);J(0x2000);}function J(M){if(M&&(M&M-0x1)===0x0){G['fftSize']=M;G['maxDecibels']=-0x12;H=G['frequencyBinCount'];}else{alert('FFT\x20size\x20is\x20required\x20to\x20be\x20a\x20power\x20of\x20two.');}}function K(){return H;}function L(){var M=new Uint8Array(H);G['getByteFrequencyData'](M);return M;}window['onload']=function(){};return{'init':I,'a':J,'b':K,'getData':L};}();const c=document['getElementById']('cnvLayer1');const d=document['getElementById']('cnvLayer2');const e=document['getElementById']('cnvLayer3');const f=document['getElementById']('file-input');const g=document['getElementById']('audio');const h=c['getContext']('2d');const i=d['getContext']('2d');const j=e['getContext']('2d');var k;var l;var m;var n=[];var o=[];window['addEventListener']('resize',p);window['onload']=function(){FFTANALYSER['init']();p();document['documentElement']['style']['overflow']='hidden';document['body']['scroll']='no';};f['onchange']=function(){const C=this['files'];console['log']('FILES[0]:\x20',C[0x0]);g['src']=URL['createObjectURL'](C[0x0]);var D=C[0x0]['name']['split']('.')['pop']();if(!/(wav|mpeg|mp3|mp4|ogg)$/ig['test'](D)){alert('Error:\x20Filetype\x20not\x20supported.\x20:(');}else{g['play']();q();}};g['onended']=function(){console['log']('Song\x20finished');};function p(){var C=document['getElementById']('audio')['scrollHeight'];c['width']=window['innerWidth'];c['height']=window['innerHeight']-C;d['width']=window['innerWidth'];d['height']=window['innerHeight']-C;e['width']=window['innerWidth'];e['height']=window['innerHeight']-C;k=c['width'];l=c['height'];var D;D=window['innerHeight']-C;g['style']['marginTop']=D['toString']()+'px';D=window['innerHeight']-C+0x9;f['style']['marginTop']=D['toString']()+'px';n=new Float32Array(u());o=new Uint8Array(FFTANALYSER['getData']());t();}function q(){function C(){requestAnimationFrame(C);z(h);s();h['fillStyle']='rgba(0,\x200,\x200,\x200.5)';h['fillRect'](0x0,l-0x18,k,0x18,0x18);}C();}function r(){var C;var D;o=FFTANALYSER['getData']();for(var E=0x0;E<n['length'];E++){C=l*(o[E]/0xff);m=k/n['length'];if(m<0x1){m=0x1;};D=o[E];h['fillStyle']='hsl('+D+',100%,50%)';h['fillRect'](n[E],l-C,m,C);}}function s(){var C;var D;o=FFTANALYSER['getData']();var E=0x0;var F=0x0;h['beginPath']();h['lineWidth']=0x2;h['moveTo'](n[0x1]-0x1,l+0x1);for(var G=0x1;G<n['length'];G++){C=l*(o[G]/0xff);h['lineTo'](n[G],l-C+0x1);}h['lineTo'](k+0x1,l+0x1);var H=0x1;var I=h['createLinearGradient'](0x0,l,0x0,0x0);I['addColorStop']('0.166','rgba(35,210,255,'+H+')');I['addColorStop']('0.333','rgba(74,104,247,'+H+')');I['addColorStop']('0.50','rgba(133,80,255,'+H+')');I['addColorStop']('0.666','rgba(198,59,243,'+H+')');I['addColorStop']('0.833','rgba(250,84,118,'+H+')');I['addColorStop']('1.0','rgba(255,223,67,'+H+')');h['closePath']();h['strokeStyle']=I;h['stroke']();h['fillStyle']=I;h['fill']();}function t(){var C=0x0;for(var D=0x0;D<n['length'];D++){if(D>=C*0x2){var E=Math['round'](D*0xac44/0x2000);C=D;i['font']='12px\x20Sans-Serif';i['fillStyle']='white';i['textAlign']='center';i['fillText'](E+'Hz',n[D],l-0x6);}}}function u(){var C=[];var D=FFTANALYSER['b']();for(var E=0x0;E<D;E++){var F=0x5622;var G=Math['log10'](F/0x8);var H=Math['log10'](E/0x8*F/D);C['push'](H/G*k);}return C;}function v(C,D,E,F){C['fillStyle']='hsl('+F+',\x20100%,\x2050%)';C['fillRect'](D,E,0x1,0x1);}function w(C,D,E){return C+(D-C)*E;}function z(C){C['fillStyle']='rgba(25,25,25,1.0)';C['fillRect'](0x0,0x0,k,l);}function A(C){var D=C['createLinearGradient'](0x0,0x0,k,0x0);D['addColorStop']('0','hsl('+0x0+',100%,50%)');D['addColorStop']('1','hsl('+0xff+',100%,50%)');C['fillStyle']=D;C['fillRect'](0x0,0x0,k,l);}function B(C,D){var E=C['getBoundingClientRect']();return{'x':D['clientX']-E['left'],'y':D['clientY']-E['top']};}
